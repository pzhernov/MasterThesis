\documentclass[14pt]{extreport}
\usepackage{amsfonts}
\usepackage[14pt]{extsizes}
\usepackage[left=3cm,right=2cm,
    top=2cm,bottom=2cm,bindingoffset=0cm]{geometry}
\renewcommand{\baselinestretch}{1.5}

\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage{amsmath}
\usepackage{enumerate}
\usepackage{listings}
\usepackage{tocbibind}
\usepackage{appendix}

\begin{document}
\pagenumbering{gobble} 

\begin{center}
МИНИСТЕРСТВО ОБРАЗОВАНИЯ И НАУКИ\\ РОССИЙСКОЙ ФЕДЕРАЦИИ\\[0.5cm]

МОСКОВСКИЙ ФИЗИКО-ТЕХНИЧЕСКИЙ ИНСТИТУТ\\
(государственный университет)\\[0.5cm]

ФАКУЛЬТЕТ ИННОВАЦИЙ И ВЫСОКИХ ТЕХНОЛОГИЙ\\
КАФЕДРА АНАЛИЗ ДАННЫХ\\[0.5cm]

(Специализация «Прикладные информационные технологии\\
в управлении и бизнесе»)\\[1.5cm]

{\bf ОТЫСКАНИЕ ОПТИМАЛЬНЫХ ПАРАМЕТРОВ}\\
{\bf В МОДЕЛЯХ СЛУЧАЙНЫХ ВЕБ-ГРАФОВ}\\[1.5cm]

Магистерская диссертация\\
студента 793 группы\\
Жернова Павла Владимировича\\[1.5cm]

Научный руководитель\\
Райгородский А.М., д.ф.-м.н.\\[3cm]


г. Москва\\
2013
\end{center}
\newpage
\pagenumbering{arabic} 
\setcounter{page}{2}
\tableofcontents
\newpage

\chapter{Введение}
Теория графов играет огромную роль, как в фундаментальной, так и в прикладной математике. Нас будет интересовать лишь одно направление, которое становится все более актуальным с каждым годом. Это графы, которые изучаются с вероятностной точки зрения. Случайные графы, которые описывают рост различных сетей, – социальных, биологических, транспортных – наиболее современны в этом направлении. В первую очередь, это связано, конечно же, с Интернетом.

\chapter{Модели случайных веб-графов}
Модели случайных веб-графов позволяют генерировать WWW-подобные графы, которые значительно меньше и проще, чем реальные WWW-графы, однако сохраняют определенные ключевые свойства структуры ребер веба. Такие искусственные графы можно рассматривать как экспериментальную платформу для получения новых подходов к поиску, индексации и т.д.
Вершины веб-графа соответствуют веб-страницам, а ребра – гиперссылкам между ними. Веб-графы довольно активно изучались на предмет различных числовых характеристик таких, как распределение, диаметр, число связных компонент, макроскопическая структура. Ниже приведем различные модели, призванные описывать реальные веб-графы.

Один из возможных теоретических подходов к модели веб-графа -- это математическая концепция случайного графа. Суть этого подхода заключается в том, что веб-граф развивается стохастически.
Было предпринято множество попыток смоделировать граф гиперссылок интернета как случайный граф. Наиболее простой и исторически первой является модель Эрдеша-Реньи.

\section{Модель Эрдеша-Реньи}  
Пусть $V_n = \{1,\dots,n\}$ -- множество вершин графа. Именно на них мы и будем строить наш случайный граф. Соединим любые две вершины $a$ и $b$ ребром с вероятностью $p \in [0, 1]$ независимо от всех остальных пар вершин. Другими словами, ребра в графе будут появляться в соответствии со схемой Бернулли, в которой вероятность успеха $p$ и $C_n^2$ испытаний (нас не интересуют кратные ребра, петли; граф неориентирован). Пусть $E$ -- случайное множество ребер, полученное в результате реализации такой схемы. Граф $G = (V_n, E)$ и есть случайный граф в модели Эрдеша-Реньи.

\section{Модели предпочтительного присоединения}
В 90-е годы XX века в своих работах Барабаши и Альберт описали некоторые статистики интернета -- веб-графа, вершинами которого являются страницы в интернете, а ребрами -- гиперссылки между ними. На самом деле, похожую структуру имеют также большинство других реальных сетей -- социальные, биологические, транспортные.

Основные результаты исследования Барабаши и Альберта состоят в следующем.
\begin{enumerate}

\item Веб-граф -- это <<разреженный>> граф. У него на $n$ вершинах всего $mn$ ребер, где $m \in \mathbb{Z}$ -- некоторая константа. Для сравнения, у полного графа на $n$ вершинах $C_n^2 \sim n^2$ ребер. 

\item Диаметр веб-графа очень мал (5-7, результат 1999 года). Это хорошо известное свойство любой социальной сети, которое принято называть <<мир тесен>>. Например, говорят, что любые 2 человека в мире <<знакомы через 5-6 рукопожатий>>. В интернете это свойство заключается в том, что кликая 5-7 раз по ссылкам можно перейти между любыми двумя страницами. (Если говорить более точно, то в интернете есть только что появившиеся сайты, которые могут быть не связаны с остальными сайтами. Поэтому правильнее сказать, что в интернете есть огромная компонента, диаметр которой мал). Итак, веб-граф обладает интересным свойством -- он разрежен, но при этом <<тесен>>.

\item Для веб-графа характерен степенной закон распределения степеней вершин. То есть, вероятность того, что вершина веб-графа имеет степень $d$ равна $cd^{-\gamma}$, где $\gamma = 2.1$. Интересно, что этот закон характерен для всех реальных сетей, но у каждой из них своя $\gamma$.
\end{enumerate}

Таким образом, описанная выше модель случайного графа Эрдеша-Реньи плохо описывает реальные веб-графы, поскольку графы, полученные в этой модели, не имеют степенного закона распределения степени вершины. 

Барабаши и Альберт предложили концепцию предпочтительного присоединения: граф строится с помощью случайного процесса, на каждом шаге которого добавляется новая вершина и фиксированное число ребер из новой вершины в уже существующие. При этом, вершины с большей степенью приобретают ребра с большей вероятностью, которая линейно зависит от их степени.

\section{Модель Боллобаша-Риордана}
Общая идея предпочтительного присоединения строго математически формулируется в модели Боллобаша-Риордана. Конструируется набор графов (марковская цепь) $G_m^n$, $n=1, 2, \dots,$ с $n$ вершинами и $mn$ ребрами, где $m \in \mathbb{Z}$ -- целое число. Сначала рассмотрим случай $m = 1$. Пусть граф $G_1^1$ -- граф, состоящий из одной вершины и одного ребра (петля). Граф $G_1^t$ получается из графа $G_1^{t-1}$ добавлением вершины t и ребра из вершины $t$ в вершину $i$, где $i$ выбирается из существующих в графе вершин случайно, согласно следующему распределению вероятностей:
$$  
P(i=s) =
\begin{cases}  
  d_{G_1^{t-1}}(s)/(2t-1),&\text{если $1 \le s \le t-1$,}\\
  1/(2t-1),&\text{если $s=t$,}\\
\end{cases}
$$  
где $d_{G_1^{t-1}(s)}$ -- степень вершины $s$ в графе $G_1^t$. 

Заметим, что распределение вероятностей задано корректно, поскольку:
$$
\sum_{i=1}^{t-1}\frac{d(i)}{2t-1} + \frac{1}{2t-1}=\frac{2t-2}{2t-1}+\frac{1}{2t-1}=1
$$

Случайный граф $G_1^n$ построен и он удовлетворяет принципу предпочтительного присоединения. Далее, граф $G_m^n$ строится из графа $G_1^{mn}$ объединением вершин $1, \dots, m$ в вершину $1$ нового графа, объединением вершин $m+1, \dots, 2m$ в вершину 2 нового графа и так далее. Замети, что можно аналогичным образом строить ориентированные графы: ребро между вершинами $i$ и $j$ идет из $i$ в $j$, если $i > j$.

Модель Боллобаша-Риордана хорошо отражает некоторые ключевые свойства различных реальных графов. Боллобаш и Риордан доказали, что диаметр графа $G_m^n$ равен $\log n / \log \log n$ при больших $n$. Они также показали, что распределение степеней вершин графа $G_m^n$ подчиняется степенному закону: число вершин со степенью $d$ в модели хорошо аппроксимируется функцией $d^{-\gamma}$, где $\gamma  = 3$. Однако, наблюдалось также расхождение с реальными графами, для которых $\gamma_{www}=2.1$. Это означает, что хоть модель Боллобаша-Риордана и отражает некоторые свойства интернета, она должна быть видоизменена, чтобы лучше соответствовать реальности.

\section{Модель Бакли-Остхуса}
Возможный подход к такому видоизменению  -- это модель, независимо предложенная двумя группами исследователей. Они предложили расширить модель с помощью параметра, называемого {\it начальная аттрактивность вершины}. Это положительная константа, которая не зависит от степени. Позже Бакли и Остхус предложили явную конструкцию данной модели. Распределение степеней вершин в модели Бакли-Остхуса также подчиняется степенному закону, однако теперь варьируя значение параметра $a$ в определении модели можно изменять значение $\gamma$ результирущего графа.

Более строго, модель генерирует набор графов $H_{a, m}^n, n=1, 2,\dots,$ с $n$ вершинами и $mn$ ребрами, где $m \in \mathbb{Z}$ -- фиксированное число. Определение $H_{a, 1}^n$ повторяет определение $G_1^n$ с одним отличием, заключающимся в том, что вероятность нового ребра, добавляемого в $H_{a, 1}^n$ равна
$$  
P(i=s) =
\begin{cases}  
  \frac{d_{H_{a, 1}^{t-1}}(s)+a-1}{(a+1)t-1},&\text{если $1 \le s \le t-1$,}\\
  \frac{a}{(a+1)t-1},&\text{если $s=t$,}\\
\end{cases}
$$  
Граф $H_{a, m}^n$ получается из графа $H_{a, 1}^{mn}$ так же, как и $G_m^n$ получается из $G_1^{mn}$. Заметим, что при $a=1$ мы получаем изначальную модель Боллобаша-Риордана $G_m^n$. Для целых $a$ Бакли и Остхус доказали, что распределение степеней вершин случайного графа в модели соответствует степенному закону с $\gamma = 2 + a$.
 
\section{Модель Боллобаша–Боргса–Риордана–Чайес}
В данной модели строится ориентированный граф итеративно, на каждом шаге добавляется одно ребро. На каждом шаге также может быть добавлена одна вершина. Для простоты будем считать, что в графе могут присутствовать множественные ребра и петли.

Более строго, пусть $\alpha, \beta, \gamma, \delta_{in}$ и $\delta_{out}$ -- неотрицательные действительные числа такие, что $\alpha + \beta + \gamma = 1$. Пусть $G_0$ -- фиксированный начальный ориентированный граф, например, одна вершина без ребер, и пусть $t_0$ -- это число ребер в графе $G_0$. (В зависимости от параметров может понадобиться положить $t_0 \ge 1$, чтобы на первых шагах процесс имел смысл). Положим $G(t_0) = G_0$, то есть в момент времени $t$ граф $G(t)$ имеет ровно $t$ ребер и случайное число $n(t)$ вершин.

Для упрощения описания модели, условимся под фразой <<{\it выбрать} вершину $v$ графа $G(t)$ {\it в соответствии} с $d_{out} + \delta_{out}$>> понимать, что вершина $v$ выбирается таким образом, что $Pr(v=v_i)$ пропорциональна $d_{out}(v_i) + \delta_{out}$, то есть таким образом, что $Pr(v=v_i)=(d_{out}(v_i) + \delta_{out})/(t  + \delta_{out}n(t))$. Аналогично, под фразой <<{\it выбрать} $v$ {\it в соответствии с} $d_{in} + \delta_{in}$>> будем понимать, что вершина $v$ выбирается таким образом, что $Pr(v=v_i)=(d_{in}(v_i) + \delta_{in})/(t  + \delta_{in}n(t))$. Здесь $d_{out}(v_i)$ и $d_{in}(v_i)$ -- исходящая и входящая степени вершины $v_i$ в графе $G(t)$.

Для $t \ge t_0$ граф $G(t+1)$ строится из графа $G(t)$ по следующим правилам:
\begin{enumerate}
\item С вероятностью $\alpha$ добавляется новая вершина $v$ вместе с ребром из $v$ в существующую вершину $w$, где $w$ выбирается в соответствии с $d_{in} + \delta_{in}$.
\item С вероятсность $\beta$ добавляется ребро из существующей вершины $v$ в существующую вершину $w$, где $v$ и $w$ выбираются независимо, $v$ в соответствии с $d_{out} + \delta_{out}$, а $w$ в соответствии с $d_{in} + \delta_{in}$.
\item С вероятностью $\gamma$ добавляется новая вершина $w$ и ребро из существующей вершины $v$ в вершину $w$, где $v$ выбирается в соответствии с $d_{out} + \delta_{out}$.
\end{enumerate}

Понятно, что вероятности $\alpha$, $\beta$ и $\gamma$ должны в сумме давать единицу. Чтобы граф не был тривиальным, необходимо также положить $\alpha + \gamma$ > 0. Заметим также, что для веб-графа естественно взять $\delta_{out} = 0$, потому что вершины, добавляемые в третьем случае соответствуют веб-страницам, которые просто предоставляют некий контент. Такие страницы никогда не изменяются, они <<рождаются>> без исходящих ссылок и сохраняют это свойство. Вершины, добавляемые в первом случае соответствуют обычным страницам, ссылки на которые могут быть добавлены позже. Также, чисто математически кажется естественным положить и $\delta_{in} = 0$ на ряду с $\delta_{out} = 0$, однако это приводит к модели, в которой каждая страница не из $G_0$ не будет иметь либо входящих ссылок, либо исходящих, что довольно нереалистично и неинтересно! Ненулевое значение $\delta_{in}$ говорит о том, что вершина не является частью веба до тех пор, пока на нее не появятся ссылки, обычно с одного из крупных поисковых сервисов. Эти ссылки с поисковых сервисов естественно рассматривать отдельно от графа, поскольку они имеют другую природу. По той же причине $\delta_{in}$ не обязательно должно быть целым числом. Параметр $\delta_{out}$ все же включается в модель для симметрии и для большей общности.

Модель допускает наличие в графе петель и кратных ребер; нет оснований для исключения их из графа. Более того, их число оказывается небольшим, поэтому они незначительно влияют на численные эксперименты. 

\chapter{Previous work}
A much longer \LaTeXe{} example was written by Gil~\cite{Gil:02}.

\chapter{Результаты}
In this section we describe the results.

\section{Выводы}
We worked hard, and achieved very little.

\bibliographystyle{abbrv}
%\bibliography{main}
\begin{thebibliography}{9}

\bibitem{}
Степанов В. Е. О вероятности связности случайного графа $g_m(t)$ // Теория вероятностей и ее применения. 1970. Т. 15. № 1. С. 55–67.
\bibitem{}
Степанов В. Е. Фазовый переход в случайных графах // Теория вероятностей и ее применения. 1970. Т. 15. № 2. С. 187–203.
\bibitem{}
Степанов В. Е. Структура случайных графов $g_n(x|h)$ // Теория вероятностей и ее применения. 1972. Т. 17. № 3. С. 227–242.
\bibitem{}
Колчин В. Ф. Случайные графы. М.: Физматлит, 2004.
\bibitem{}
Bollobas B. Random Graphs. Cambridge: Cambridge Univ. Press, 2001.
\bibitem{}
Алон Н., Спенсер Дж. Вероятностный метод. М: Бином. Лаборатория знаний, 2007.
\bibitem{}
Janson S., Luczak T., Rucinski A. Random graphs. N.Y.: Wiley, 2000.
\bibitem{}
Маргулис Г. А. Вероятностные характеристики графов с большой связностью // Проблемы передачи информации. 1974. Т. 10. С. 101–108.
\bibitem{}
Karp R. The transitive closure of a random digraph // Random structures and algorithms. 1990. V. 1. P. 73–94.
\bibitem{}
Карлин С. Основы теории случайных процессов. М: Мир, 1971.
\bibitem{}
Barabasi L.-A., Albert R. Emergence of scaling in random networks // Science. 1999. V. 286. P. 509–512.
\bibitem{}
Barabasi L.-A., Albert R., Jeong H. Scale-free characteristics of random networks: the topology of the world-wide web // Physica A. 2000. V. 281. P. 69–77.
\bibitem{}
Albert R., Jeong H., Barabasi L. A. Diameter of the world-wide web // Nature. 1999. V. 401. P. 130–131.
\bibitem{}
Bollobas B., Riordan O. Mathematical results on scale-free random graphs. Handbook of graphs and networks. Weinheim: Wiley-VCH. 2003. P. 1–34.
\bibitem{}
Райгородский А. М. Экстремальные задачи теории графов и анализ данных. М.–Ижевск: НИЦ «РХД», 2009.
\bibitem{}
Stoimenow A. Enumeration of chord diagrams and an upper bound for Vassiliev invariants // J. Knot Theory Ramifications. 1998. V. 7. N. 1. P. 93–114.
\bibitem{}
Bollobas B., Riordan O. The diameter of a scale-free random graph // Combinatorica. 2004. V. 24. N. 1. P. 5–34.
\bibitem{}
Bollobas B., Riordan O., Spencer J., Tusnady G. The degree sequence of a scale-free random graph process // Random Structures Algorithms. 2001. V. 18. N. 3. P. 279–290.
\bibitem{}
Kumar R., Raghavan P., Rajagopalan S., Sivakumar D., Tomkins A., Upfal E. Stochastic models for the web graph // Proc. 41st Symposium on Foundations of Computer Science. 2000.

\end{thebibliography}
\newpage

\begin{appendices}
\chapter{Исходный код программы}
{\footnotesize
\lstinputlisting{code/convert_graph.cpp}
\newpage
\lstinputlisting{code/max_line_length.py}
\newpage
\lstinputlisting{code/graph.h}
\newpage
\lstinputlisting{code/graph.cpp}
\newpage
\lstinputlisting{code/simulated_graph.h}
\newpage
\lstinputlisting{code/simulated_graph.cpp}
\newpage
\lstinputlisting{code/real_graph.h}
\newpage
\lstinputlisting{code/real_graph.cpp}
\newpage
\lstinputlisting{code/main.cpp}
}
\end{appendices}

\end{document}
